# Inventory Report Generator

## æ¦‚è¿°

Inventory Report Generator æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„åº“å­˜æŠ¥å‘Šç”Ÿæˆå·¥å…·ï¼Œä¸“ä¸ºæé«˜å›¢é˜Ÿæ•ˆç‡è€Œè®¾è®¡ã€‚è¯¥å·¥å…·æ”¯æŒå¤šç§æ•°æ®æºï¼Œå¯ä»¥ç”Ÿæˆç¾è§‚çš„HTMLæŠ¥å‘Šï¼Œå¹¶æ”¯æŒé‚®ä»¶è‡ªåŠ¨å‘é€åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š **å¤šæ•°æ®æºæ”¯æŒ**: CSVã€JSONæ–‡ä»¶å’Œæ•°æ®åº“
- ğŸ“§ **é‚®ä»¶é€šçŸ¥**: è‡ªåŠ¨å‘é€æŠ¥å‘Šåˆ°æŒ‡å®šé‚®ç®±
- ğŸ¨ **ç¾è§‚æŠ¥å‘Š**: ç”Ÿæˆä¸“ä¸šçš„HTMLæ ¼å¼æŠ¥å‘Š
- âš ï¸ **åº“å­˜é¢„è­¦**: è‡ªåŠ¨è¯†åˆ«ä½åº“å­˜å•†å“
- ğŸ“ˆ **æ•°æ®åˆ†æ**: æä¾›è¯¦ç»†çš„åº“å­˜ç»Ÿè®¡å’Œåˆ†æ
- ğŸ”§ **é«˜åº¦å¯é…ç½®**: é€šè¿‡JSONé…ç½®æ–‡ä»¶çµæ´»è®¾ç½®

## å®‰è£…ä¾èµ–

åœ¨ä½¿ç”¨è„šæœ¬ä¹‹å‰ï¼Œè¯·ç¡®ä¿å®‰è£…ä»¥ä¸‹PythonåŒ…ï¼š

```bash
pip install pandas jinja2
```

## å¿«é€Ÿå¼€å§‹

### 1. é…ç½®æ–‡ä»¶è®¾ç½®

å¤åˆ¶ `config.json` æ–‡ä»¶å¹¶æ ¹æ®æ‚¨çš„éœ€æ±‚è¿›è¡Œä¿®æ”¹ï¼š

```json
{
  "data_sources": {
    "csv_files": ["data/inventory.csv"],
    "json_files": ["data/inventory.json"],
    "database": {
      "enabled": false,
      "connection_string": "sqlite:inventory.db",
      "query": "SELECT * FROM inventory"
    }
  },
  "output": {
    "format": "html",
    "filename_template": "inventory_report_{date}.{format}",
    "output_directory": "./reports"
  },
  "email": {
    "enabled": true,
    "smtp_server": "smtp.gmail.com",
    "smtp_port": 587,
    "username": "your-email@company.com",
    "password": "your-app-password",
    "recipients": ["manager@company.com"]
  }
}
```

### 2. æ•°æ®æ ¼å¼è¦æ±‚

#### CSV/JSON æ•°æ®æ ¼å¼
æ‚¨çš„åº“å­˜æ•°æ®åº”åŒ…å«ä»¥ä¸‹å­—æ®µï¼š

| å­—æ®µå | ç±»å‹ | å¿…éœ€ | æè¿° |
|--------|------|------|------|
| item_id | string | æ˜¯ | å•†å“å”¯ä¸€æ ‡è¯† |
| name | string | æ˜¯ | å•†å“åç§° |
| category | string | å¦ | å•†å“ç±»åˆ« |
| quantity | number | æ˜¯ | åº“å­˜æ•°é‡ |
| unit_price | number | æ˜¯ | å•ä»· |
| supplier | string | å¦ | ä¾›åº”å•† |

#### CSV ç¤ºä¾‹
```csv
item_id,name,category,quantity,unit_price,supplier
ITM001,Widget A,Electronics,150,25.99,TechCorp
ITM002,Widget B,Electronics,8,45.50,TechCorp
ITM003,Gadget X,Tools,75,12.75,ToolMaster
```

#### JSON ç¤ºä¾‹
```json
[
  {
    "item_id": "ITM001",
    "name": "Widget A",
    "category": "Electronics",
    "quantity": 150,
    "unit_price": 25.99,
    "supplier": "TechCorp"
  }
]
```

### 3. è¿è¡Œè„šæœ¬

#### åŸºæœ¬ç”¨æ³•
```bash
python src/inventory_report.py
```

#### æŒ‡å®šé…ç½®æ–‡ä»¶
```bash
python src/inventory_report.py --config my_config.json
```

#### å¯ç”¨è¯¦ç»†æ—¥å¿—
```bash
python src/inventory_report.py --verbose
```

## é…ç½®é€‰é¡¹è¯¦è§£

### æ•°æ®æºé…ç½® (data_sources)

- **csv_files**: CSVæ–‡ä»¶è·¯å¾„åˆ—è¡¨
- **json_files**: JSONæ–‡ä»¶è·¯å¾„åˆ—è¡¨
- **database**: æ•°æ®åº“è¿æ¥é…ç½®
  - `enabled`: æ˜¯å¦å¯ç”¨æ•°æ®åº“
  - `connection_string`: æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
  - `query`: SQLæŸ¥è¯¢è¯­å¥

### è¾“å‡ºé…ç½® (output)

- **format**: æŠ¥å‘Šæ ¼å¼ (ç›®å‰æ”¯æŒ "html")
- **filename_template**: æ–‡ä»¶åæ¨¡æ¿ï¼Œæ”¯æŒ {date} å’Œ {format} å ä½ç¬¦
- **output_directory**: æŠ¥å‘Šè¾“å‡ºç›®å½•

### é‚®ä»¶é…ç½® (email)

- **enabled**: æ˜¯å¦å¯ç”¨é‚®ä»¶å‘é€
- **smtp_server**: SMTPæœåŠ¡å™¨åœ°å€
- **smtp_port**: SMTPç«¯å£
- **username**: é‚®ç®±ç”¨æˆ·å
- **password**: é‚®ç®±å¯†ç æˆ–åº”ç”¨ä¸“ç”¨å¯†ç 
- **recipients**: æ”¶ä»¶äººåˆ—è¡¨
- **subject_template**: é‚®ä»¶ä¸»é¢˜æ¨¡æ¿

### æŠ¥å‘Šè®¾ç½® (report_settings)

- **include_low_stock_alerts**: æ˜¯å¦åŒ…å«ä½åº“å­˜é¢„è­¦
- **low_stock_threshold**: ä½åº“å­˜é˜ˆå€¼
- **include_charts**: æ˜¯å¦åŒ…å«å›¾è¡¨ (æœªæ¥åŠŸèƒ½)
- **currency_symbol**: è´§å¸ç¬¦å·

## æŠ¥å‘Šå†…å®¹

ç”Ÿæˆçš„æŠ¥å‘ŠåŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

1. **æ€»è§ˆç»Ÿè®¡**
   - æ€»å•†å“æ•°é‡
   - æ€»åº“å­˜ä»·å€¼
   - å•†å“ç±»åˆ«æ•°
   - ä¾›åº”å•†æ•°é‡

2. **ä½åº“å­˜é¢„è­¦**
   - åº“å­˜é‡ä½äºé˜ˆå€¼çš„å•†å“åˆ—è¡¨
   - åŒ…å«å•†å“IDã€åç§°ã€å½“å‰åº“å­˜å’Œç±»åˆ«

3. **é«˜ä»·å€¼å•†å“**
   - æŒ‰æ€»ä»·å€¼æ’åºçš„å‰5åå•†å“

4. **ç±»åˆ«åˆ†æ**
   - æŒ‰ç±»åˆ«ç»Ÿè®¡çš„å•†å“æ•°é‡ã€åº“å­˜é‡å’Œæ€»ä»·å€¼

5. **ä¾›åº”å•†åˆ†æ**
   - æŒ‰ä¾›åº”å•†ç»Ÿè®¡çš„ç›¸å…³æ•°æ®

## è‡ªåŠ¨åŒ–è®¾ç½®

### ä½¿ç”¨ Cron (Linux/Mac)

æ·»åŠ åˆ° crontab ä»¥å®ç°æ¯å‘¨è‡ªåŠ¨è¿è¡Œï¼š

```bash
# æ¯å‘¨ä¸€ä¸Šåˆ9ç‚¹è¿è¡Œ
0 9 * * 1 /usr/bin/python3 /path/to/src/inventory_report.py
```

### ä½¿ç”¨ Windows ä»»åŠ¡è®¡åˆ’ç¨‹åº

1. æ‰“å¼€"ä»»åŠ¡è®¡åˆ’ç¨‹åº"
2. åˆ›å»ºåŸºæœ¬ä»»åŠ¡
3. è®¾ç½®è§¦å‘å™¨ä¸º"æ¯å‘¨"
4. è®¾ç½®æ“ä½œä¸ºè¿è¡ŒPythonè„šæœ¬

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ‰¾ä¸åˆ°æ•°æ®æ–‡ä»¶**
   - æ£€æŸ¥é…ç½®æ–‡ä»¶ä¸­çš„æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
   - ç¡®ä¿æ–‡ä»¶å­˜åœ¨ä¸”æœ‰è¯»å–æƒé™

2. **é‚®ä»¶å‘é€å¤±è´¥**
   - æ£€æŸ¥SMTPè®¾ç½®æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤é‚®ç®±å¯†ç æˆ–åº”ç”¨ä¸“ç”¨å¯†ç 
   - æ£€æŸ¥ç½‘ç»œè¿æ¥

3. **æ•°æ®æ ¼å¼é”™è¯¯**
   - ç¡®ä¿CSV/JSONæ–‡ä»¶åŒ…å«å¿…éœ€å­—æ®µ
   - æ£€æŸ¥æ•°æ®ç±»å‹æ˜¯å¦æ­£ç¡®

### æ—¥å¿—æ–‡ä»¶

è„šæœ¬ä¼šç”Ÿæˆè¯¦ç»†çš„æ—¥å¿—æ–‡ä»¶ `inventory_report.log`ï¼ŒåŒ…å«ï¼š
- è¿è¡Œæ—¶é—´æˆ³
- æ•°æ®åŠ è½½çŠ¶æ€
- é”™è¯¯ä¿¡æ¯
- æŠ¥å‘Šç”ŸæˆçŠ¶æ€

## æ‰©å±•åŠŸèƒ½

### æ·»åŠ æ–°çš„æ•°æ®æº

å¯ä»¥é€šè¿‡ä¿®æ”¹ `InventoryReportGenerator` ç±»æ¥æ·»åŠ æ–°çš„æ•°æ®æºæ”¯æŒï¼š

```python
def load_custom_data(self, source_config):
    # å®ç°è‡ªå®šä¹‰æ•°æ®æºåŠ è½½é€»è¾‘
    pass
```

### è‡ªå®šä¹‰æŠ¥å‘Šæ¨¡æ¿

ä¿®æ”¹ `generate_html_report` æ–¹æ³•ä¸­çš„HTMLæ¨¡æ¿æ¥è‡ªå®šä¹‰æŠ¥å‘Šå¤–è§‚ã€‚

### æ·»åŠ æ–°çš„è¾“å‡ºæ ¼å¼

å¯ä»¥æ·»åŠ PDFã€Excelç­‰è¾“å‡ºæ ¼å¼æ”¯æŒã€‚

## ç‰ˆæœ¬å†å²

- **v1.0.0** (2024): åˆå§‹ç‰ˆæœ¬
  - åŸºæœ¬æŠ¥å‘Šç”ŸæˆåŠŸèƒ½
  - å¤šæ•°æ®æºæ”¯æŒ
  - é‚®ä»¶é€šçŸ¥åŠŸèƒ½

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–åœ¨é¡¹ç›®ä»“åº“ä¸­æäº¤Issueã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚